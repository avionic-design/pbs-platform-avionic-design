#
# This will set the correct output for plutux or 16:9 med@com.
#
if test -x /usr/bin/xrandr; then
	# call xrandr only once to avoid flickering screen
	XRANDR="`/usr/bin/xrandr`"
	# for plutux
	HAVE_HDMI="`echo $XRANDR | grep 'HDMI connected' | wc -l`"
	HAVE_LVDS="`echo $XRANDR | grep 'TFTLCD connected' | wc -l`"
	# for medcom
	if test "$HAVE_LVDS" = "0"; then
		HAVE_LVDS="`echo $XRANDR | grep 'LVDS-1 connected' | wc -l`"
	fi

	# If HDMI is connected than give HDMI the favor and disable LVDS.
	# This is required for correct video playback.
	if test "$HAVE_LVDS" = "1" -a "$HAVE_HDMI" = "1"; then
		/usr/bin/xrandr --output HDMI --mode 1920x1080 --output TFTLCD --off
	elif test "$HAVE_HDMI" = "1"; then
		/usr/bin/xrandr --output HDMI --mode 1920x1080
	fi
fi
